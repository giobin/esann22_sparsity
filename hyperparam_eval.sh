#!/bin/bash

set -e
echo "set -e eseguito"

python main_prune.py --dataset fashion-mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt ../sparsity/fashionmnist_dev_workdir/28-01-2021_10-21-29/fashion-mnist_lenet5_7400_92.20_noreg.pth -r --exp_alpha 1. -e 75 -o adam --gamma_decay --work_dir workdir/significance_fashionmnist --acc_lower_bound 90.5 --no_dropout -s 1234
python main_prune.py --dataset fashion-mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt ../sparsity/fashionmnist_dev_workdir/28-01-2021_10-21-29/fashion-mnist_lenet5_7400_92.20_noreg.pth -r --exp_alpha 1. -e 75 -o adam --gamma_decay --work_dir workdir/significance_fashionmnist --acc_lower_bound 90.5 --no_dropout -s 5246
python main_prune.py --dataset fashion-mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt ../sparsity/fashionmnist_dev_workdir/28-01-2021_10-21-29/fashion-mnist_lenet5_7400_92.20_noreg.pth -r --exp_alpha 1. -e 75 -o adam --gamma_decay --work_dir workdir/significance_fashionmnist --acc_lower_bound 90.5 --no_dropout -s 7567
python main_prune.py --dataset fashion-mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt ../sparsity/fashionmnist_dev_workdir/28-01-2021_10-21-29/fashion-mnist_lenet5_7400_92.20_noreg.pth -r --exp_alpha 1. -e 75 -o adam --gamma_decay --work_dir workdir/significance_fashionmnist --acc_lower_bound 90.5 --no_dropout -s 0823
python main_prune.py --dataset fashion-mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt ../sparsity/fashionmnist_dev_workdir/28-01-2021_10-21-29/fashion-mnist_lenet5_7400_92.20_noreg.pth -r --exp_alpha 1. -e 75 -o adam --gamma_decay --work_dir workdir/significance_fashionmnist --acc_lower_bound 90.5 --no_dropout -s 7538

python main_prune.py --dataset mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt /media/hdd/bonetta/projects/sparsity/mnist_dev_workdir/26-01-2021_16-48-33/mnist_lenet5_1600_99.26.pth -r --exp_alpha 1. -e 120 -o adam --gamma_decay --work_dir workdir/significance_mnistv2 --acc_lower_bound 98.0 --no_dropout -s 1234
python main_prune.py --dataset mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt /media/hdd/bonetta/projects/sparsity/mnist_dev_workdir/26-01-2021_16-48-33/mnist_lenet5_1600_99.26.pth -r --exp_alpha 1. -e 120 -o adam --gamma_decay --work_dir workdir/significance_mnistv2 --acc_lower_bound 98.0 --no_dropout -s 5246
python main_prune.py --dataset mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt /media/hdd/bonetta/projects/sparsity/mnist_dev_workdir/26-01-2021_16-48-33/mnist_lenet5_1600_99.26.pth -r --exp_alpha 1. -e 120 -o adam --gamma_decay --work_dir workdir/significance_mnistv2 --acc_lower_bound 98.0 --no_dropout -s 7567
python main_prune.py --dataset mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt /media/hdd/bonetta/projects/sparsity/mnist_dev_workdir/26-01-2021_16-48-33/mnist_lenet5_1600_99.26.pth -r --exp_alpha 1. -e 120 -o adam --gamma_decay --work_dir workdir/significance_mnistv2 --acc_lower_bound 98.0 --no_dropout -s 0823
python main_prune.py --dataset mnist -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.04 --reg_gamma 0.001 --ckpt /media/hdd/bonetta/projects/sparsity/mnist_dev_workdir/26-01-2021_16-48-33/mnist_lenet5_1600_99.26.pth -r --exp_alpha 1. -e 120 -o adam --gamma_decay --work_dir workdir/significance_mnistv2 --acc_lower_bound 98.0 --no_dropout -s 7538

# python main_prune.py -m vgg16 --dataset imagenet -tr /home/bonetta/imagenet_dataset/train_v2/ -te /home/bonetta/imagenet_dataset/valid_v2/ --batch_size 100 --log_interval 100 --eval_interval 2500 -t 0.1 --reg_gamma 0.0 --exp_alpha 1. -e 20 -o sgd -lr 0.0003 -mo 0.7 --gamma_decay --work_dir workdir/prune_imagenet -nod --acc_lower_bound 68.5 --ckpt /media/hdd/bonetta/projects/sparsity/workdir/prune_imagenet/10-04-2020_16-28-26/imagenet_vgg16_99684.pth

#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2/ -te ../imagenet/valid_v2/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0075 --reg_gamma 0.0005 -r --exp_alpha 1. -e 2 -o sgd -lr 0.0001 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet -nod --acc_lower_bound 70.0
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2/ -te ../imagenet/valid_v2/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0075 --reg_gamma 0.0002 -r --exp_alpha 1. -e 2 -o sgd -lr 0.0001 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet -nod --acc_lower_bound 70.0
# python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2/ -te ../imagenet/valid_v2/ --batch_size 100 --log_interval 100 --eval_interval 500 -t 0.4 --reg_gamma 0.0001 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0001 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet -nod --acc_lower_bound 70.0 -p 25


#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.01 --reg_gamma 0.0005 -r --exp_alpha 1. -e 10 -o sgd -lr 0.00025 -mo 0.3 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.01 --reg_gamma 0.0005 -r --exp_alpha 1. -e 10 -o sgd -lr 0.0001 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0075 --reg_gamma 0.0005 -r --exp_alpha 1. -e 10 -o sgd -lr 0.00025 -mo 0.3 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0075 --reg_gamma 0.0005 -r --exp_alpha 1. -e 10 -o sgd -lr 0.0001 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet

#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0001 --reg_gamma 0.0002 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0001 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0025 --reg_gamma 0.0002 -r --exp_alpha 1. -e 3 -o sgd -lr 0.00025 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0025 --reg_gamma 0.0001 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0001 -mo 0.5 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0005 --reg_gamma 0.0002 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0005 -mo 0.5 --gamma_decay --work_dir workdir/prune_imagenet

#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.03 --reg_gamma 0.00001 -r --exp_alpha 1. -e 3 -o adam -lr 0.00001 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.03 --reg_gamma 0.00005 -r --exp_alpha 1. -e 3 -o adam -lr 0.00001 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.03 --reg_gamma 0.0001 -r --exp_alpha 1. -e 4 -o adam -lr 0.000001 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.03 --reg_gamma 0.00005 -r --exp_alpha 1. -e 4 -o adam -lr 0.000005 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.001 --reg_gamma 0.0002 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0001 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0001 --reg_gamma 0.0002 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0001 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0001 --reg_gamma 0.0001 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0005 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.0001 --reg_gamma 0.0002 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0005 -mo 0.5 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.03 --reg_gamma 0.0002 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0005 -mo 0.5 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.03 --reg_gamma 0.0002 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0005 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet
#python main_prune.py -m vgg16 --dataset imagenet -tr ../imagenet/train_v2_small/ -te ../imagenet/valid_v2_small/ --batch_size 100 --log_interval 100 --eval_interval 300 -t 0.03 --reg_gamma 0.0002 -r --exp_alpha 1. -e 3 -o sgd -lr 0.0001 -mo 0.9 --gamma_decay --work_dir workdir/prune_imagenet

#python main_prune.py -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.03 --reg_gamma 0.002 --ckpt mnist_lenet5_noreg.pth -r --exp_alpha 1. -e 40 -o adam --gamma_decay --work_dir workdir/prune_m
#python main_prune.py -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.03 --reg_gamma 0.002 --ckpt mnist_lenet5_noreg.pth -r --exp_alpha 1. -e 40 -o adam --work_dir workdir/prune_m
#python main_prune.py -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.01 --reg_gamma 0.002 --ckpt mnist_lenet5_noreg.pth -r --exp_alpha 1. -e 40 -o adam --gamma_decay --work_dir workdir/prune_m
#python main_prune.py -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.01 --reg_gamma 0.002 --ckpt mnist_lenet5_noreg.pth -r --exp_alpha 1. -e 40 -o adam --work_dir workdir/prune_m
#python main_prune.py -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.01 --reg_gamma 0.002 --ckpt mnist_lenet5_noreg.pth -r --exp_alpha 1. -e 40 -o sgd --gamma_decay --work_dir workdir/prune_m
#python main_prune.py -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.01 --reg_gamma 0.002 --ckpt mnist_lenet5_noreg.pth -r --exp_alpha 1. -e 40 -o sgd --work_dir workdir/prune_m
#python main_prune.py -m lenet5 --batch_size 100 --log_interval 100 --eval_interval 250 -t 0.03 --reg_gamma 0.002 --ckpt mnist_lenet5_noreg.pth -r --exp_alpha 1. -e 40 -o adam --gamma_decay --work_dir workdir/prune_m

echo "finished"
